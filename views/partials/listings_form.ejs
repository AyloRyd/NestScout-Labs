<form action="/listings" method="POST" class="listings-form">
    <h5>Add new listing</h5>

    <div class="row">
        <!-- Owner ID -->
        <div class="field label border round large">
            <input type="number" name="owner_id" id="owner_id" value="<%= userId %>" readonly>
            <label for="owner_id">Owner ID</label>
        </div>

        <!-- Title -->
        <div class="field label border round large">
            <input type="text" name="title" id="title" required>
            <label for="title">Title</label>
        </div>
    </div>

    <!-- Description -->
    <div class="field textarea label border round">
        <textarea name="description" id="description"></textarea>
        <label for="description">Description</label>
    </div>

    <div class="row">
        <!-- Price per Night -->
        <div class="field label border round large">
            <input type="number" name="price_per_night" id="price_per_night" step="0.01" required>
            <label for="price_per_night">Price per night (USD)</label>
        </div>

        <!-- Max Guests -->
        <div class="field label border round large">
            <input type="number" name="max_guests" id="max_guests" required>
            <label for="max_guests">Max guests</label>
        </div>
    </div>

    <div class="row">
        <!-- Country -->
        <div class="field label border round large">
            <input type="text" name="country" id="country" required>
            <label for="country">Country</label>
        </div>

        <!-- City -->
        <div class="field label border round large">
            <input type="text" name="city" id="city" required>
            <label for="city">City</label>
        </div>
    </div>

    <div class="row">
        <!-- Street -->
        <div class="field label border round large">
            <input type="text" name="street" id="street" required>
            <label for="street">Street</label>
        </div>

        <!-- House Number -->
        <div class="field label border round large">
            <input type="text" name="house_number" id="house_number" required>
            <label for="house_number">House number</label>
        </div>
    </div>

    <!-- Property Type -->
    <div class="field label suffix border round">
        <select name="property_type" id="property_type" required>
            <option value="apartment">Apartment</option>
            <option value="room">Room</option>
            <option value="house">House</option>
        </select>
        <label for="property_type">Property type</label>
        <i>arrow_drop_down</i>
    </div>

    <div class="row">
        <!-- Rooms -->
        <div class="field label border round large">
            <input type="number" name="rooms" id="rooms" required>
            <label for="rooms">Rooms</label>
        </div>

        <!-- Area -->
        <div class="field label border round large">
            <input type="number" name="area" id="area" step="0.01">
            <label for="area">Area (mÂ²)</label>
        </div>
    </div>

    <div class="chip-bool">
        <!-- Bathroom-->
        <div>
            <button type="button" class="chip" onclick="toggleChip(this)">
                <i>Bathroom</i>
                Bathroom
            </button>
            <input type="hidden" name="has_bathroom" id="has_bathroom" value="false">
        </div>

        <!-- WiFi-->
        <div>
            <button type="button" class="chip" onclick="toggleChip(this)">
                <i>WiFi</i>
                WiFi
            </button>

            <input type="hidden" name="has_wifi" id="has_wifi" value="false">
        </div>

        <!-- Kitchen-->
        <div>
            <button type="button" class="chip" onclick="toggleChip(this)">
                <i>Kitchen</i>
                Kitchen
            </button>
            <input type="hidden" name="has_kitchen" id="has_kitchen" value="false">
        </div>
    </div>

    <!-- Submit Button -->
    <nav class="center-align no-space">
        <button type="button" class="transparent link">Cancel</button>
        <button type="submit" class="transparent link">Add</button>
    </nav>
</form>

<script>
    $(document).ready(function() {
        $('.chip').on('click', function() {
            const $button = $(this);
            const $sibling = $button.siblings('.chip');

            $button.toggleClass('fill');
            $sibling.toggleClass('fill');

            const $input = $button.parent().find('input[type="hidden"]');
            $input.val($button.hasClass('fill') ? "false" : "true");
        });
    });
</script>